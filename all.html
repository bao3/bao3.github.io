<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>  
	  
  	活着真好
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="活着真好" type="application/atom+xml">

	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	<script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/solarized_dark.css" media="screen, projection" rel="stylesheet" type="text/css">
<script>hljs.initHighlightingOnLoad();</script>

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>
	
	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}
	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}
	</style>
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
					<div class="profilepic">
						<img src="asset/icon.jpg" style="width:160px;">
					</div>
					<h1><a href="index.html">活着真好</a></h1>
					<p class="subtitle"></p>
					<nav id="main-nav">
						<ul class="main">
							<li><a href="index.html">Home</a></li>
						    <!-- <li><a href="all.html">Blog</a></li>-->	
						    <li><a href="archives.html">Archives</a></li>
						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">

<!-- 
			<a class="email" href="mailto:" title="Email">Email</a>
			<a class="facebook" href="http://www.facebook.com/" title="Facebook">Facebook</a>
			<a class="google" href="https://plus.google.com/" rel="author" title="Google+">Google+</a>
			<a class="twitter" href="http://twitter.com/" title="Twitter">Twitter</a>
			<a class="github" href="https://github.com/" title="GitHub">GitHub</a>
			<a class="coderwall" href="https://coderwall.com/" title="Coderwall">Coderwall</a>
		    <a class="stackoverflow" href="http://stackoverflow.com/users/" title="StackOverflow"></a>
			<a class="linkedin" href="http://www.linkedin.com/in/" title="LinkedIn">LinkedIn</a>
			<a class="pinterest" href="https://pinterest.com/" title="Pinterest">Pinterest</a>
			<a class="delicious" href="http://delicious.com/" title="Delicious">Delicious</a>
			<a class="pinboard" href="https://pinboard.in/u:" title="Pinboard">Pinboard</a>
			<a class="douban" href="https://www.douban.com/people/" title="Douban">Douban</a>
			<a class="quora" href="https://quora.com/" title="Quora">Quora</a>
			<a class="instagram" href="https://instagram.com/" title="Instagram">Instagram</a>
			<a class="behance" href="https://www.behance.net/" title="Behance">Behance</a>
			<a class="facebook" href="http://www.facebook.com/" title="Facebook">Facebook</a>
								<a class="twitter" href="http://twitter.com/" title="Twitter">Twitter</a>
								<a class="github" href="https://github.com/" title="GitHub">GitHub</a>
-->	
								

								<a class="rss" href="atom.xml" title="RSS">RSS</a>
							
						</div>
					</nav>
				</header>				
			</div>
		</div>	
		<div class="mid-col">
			<div class="mid-col-container"> <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-04-03T17:47:05+08:00" itemprop="datePublished">2016/4/3 17:47 下午</time>
			</div>
			
			 
			
		</div>
		<h1 class="title" itemprop="name"><a href="14596768251130.html" itemprop="url">
		自己折腾 FreeNAS@ThinkPad x201i 的记录</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>这些记录没有任何意义，请忽略</p>

<pre><code class="language-Bash">cp -Rp acpi_ibm* /boot/kernel/
cp -RP acpi_video.ko* /boot/kernel/
cp -Rp iwn1000fw.ko* /boot/kernel/
cp -Rp if_iwn.ko* /boot/kernel/
cp -Rp wlan* /boot/kernel/
cp -Rp fuse.ko* /boot/kernel/
sed -i &quot;.bak&quot; &#39;s/yes/no/g&#39; /usr/local/etc/pkg/repos/local.conf
sed -i &quot;.bak&quot; &#39;s/no/yes/g&#39; /usr/local/etc/pkg/repos/FreeBSD.conf

pkg update
pkg install vim-lite proxychains-ng shadowsocks-libev aria2

vi /boot/loader.conf

#######
acpi_ibm_load=&quot;YES&quot;
acpi_video_load=&quot;YES&quot;
if_iwn_load=&quot;YES&quot;
iwn1000fw_load=&quot;YES&quot;
snd_ich_load=&quot;YES&quot;
###########


saver=&quot;green&quot; blanktime=&quot;300&quot; scrnmap=&quot;NO&quot;
powerd_enable=&quot;YES&quot;
powerd_flags=&quot;-i 80 -p 200 -b adaptive -a adaptive -n adaptive&quot;

performance_cx_lowest=&quot;C3&quot;
economy_cx_lowest=&quot;C3&quot;
performance_cpu_freq=&quot;HIGH&quot;


sysctl -a | grep cx_
/etc/sysctl.conf
hw.acpi.cpu.cx_lowest=C3

</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-02-20T13:32:35+08:00" itemprop="datePublished">2016/2/20 13:32 下午</time>
			</div>
			
			 
			
		</div>
		<h1 class="title" itemprop="name"><a href="14559463552140.html" itemprop="url">
		Brew Cask 安装软件</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<pre><code class="language-Bash">brew tap caskroom/cask
brew tap caskroom/versions
brew install homebrew/fuse/bindfs
`brew install proxychains-ng shadowsocks-libv dnsmasq  android-platform-tools fswatch`
`brew cask install qq  neteasemusic   aliwangwang telegram google-chrome iterm2 macvim mpv  squirrel vmware-fusion flux enpass  omnidisksweeper java  karabiner diskmaker-x osxfuse`
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-02-09T15:20:56+08:00" itemprop="datePublished">2016/2/9 15:20 下午</time>
			</div>
			
			 
			
		</div>
		<h1 class="title" itemprop="name"><a href="14550024568971.html" itemprop="url">
		Mac 上自动发布到 github pages</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<blockquote>
<p>理论上你有什么需要实时提交的 git repo 都可以使用这个方法，但为了节约，你需要设置 fswatch 的间隔时间</p>
</blockquote>

<p>　　敝人乃懒人一枚，很久前购买了 <mark>myweb</mark> ，用来记点纯文本的笔记，偶尔发个 blog 到 <strong>github pages (github.io)</strong>。但是 myweb 是个 GUI 工具，发布到 github要换到 iTerm里自己输入命令 git add  &amp;&amp; git commit ，非常的麻烦，所以就又一次偷懒写了一个烂脚本，原则上适合用于所有的 app 自动发布到 GitHub。</p>

<h2 id="toc_0">首先， 确认你要发布的目录</h2>

<p>　　我的 mweb 发布到 Github 的文件夹是 blog，如下图所示：<br/>
<img src="media/14550024568971/14550028748116.jpg" alt=""/></p>

<p>　　然后生成的网站目录在 <code>/Users/bao3/Library/Containers/com.coderforart.MWeb/Data/Documents/MWeb/LocalData/Site/blog/</code>，所以我的目标就是每次文件有变化时，就自动将文章发布到 github ，记住，重点是 “有变化时” 而不是每隔几分钟。</p>

<h2 id="toc_1">其次,安装自动发布工具</h2>

<p>　　我们需要用到 <mark><strong>fswatch</strong></mark> 这个命令，这需要使用<code>brew install fswatch</code></p>

<p>　　可选的一个 Shell 命令是 <code>Proxychains4-ng</code>，这个东西的主要用途是为 git 命令添加代理，以防止网络质量不佳。要使用这个命令就需要有一个 Socks 代理，如果你没有，就不要安装了，而我自己有一个<code>shadowsocks-libev</code> ，所以非常方便。</p>

<h2 id="toc_2">脚本主体</h2>

<p>　　我不是个程序员，所以写出来的脚本有点“脏”，好在还能用，自己动手丰衣足食嘛；然后开始写我们的脚本吧：</p>

<pre><code>
#!/bin/bash
#$wdir is where your github blog dir
wdir=/Users/bao3/Library/Containers/com.coderforart.MWeb/Data/Documents/MWeb/LocalData/Site/blog/
export cmd=/usr/bin/git

#locate the &#39;fswatch&#39; command ,you should install it via &quot;brew install fswatch&quot;
export fsdog=`which fswatch`
export proxy=`which proxychains4`
args=&quot;-0 -a $wdir/atom.xml&quot;
function gitpush() {
    $cmd add . ;
    reslut=$($cmd commit -a -m &quot;`date`&quot; | grep nothing)

    #when get $result length == zero ,means that there is new modified blog ,just git push  in next!
    if [ -z `$reslut` ] ; then

        #Note : proxychains4 is a proxy tools which would let &quot;git &quot; use your proxy ( shadowsocks e.g.),just brew install it OR it would skip auto.
        `$proxy -q  $cmd push -q` || `$cmd push -q`
    fi;
    return 0;
    }
cd $wdir;
#gitpush ;
export -f gitpush;
$fsdog $args | xargs -0 -n1 bash -c &#39;gitpush&#39;



</code></pre>

<h3 id="toc_3">这段脚本实现的功能如下：</h3>

<ol>
<li>使用 <code>fswatch</code> <em>实时</em> 检测 myweb 的 blog 目录</li>
<li>一旦发现有新的博客文章，则会自动提交，并添加当时的时间为标记</li>
<li>提交时会优先使用 <code>Proxychains4</code> 通过代理提交，如果没安装则自动使用 Git push 提交</li>
<li>只有变化的文章才会提交，所以非常省流量</li>
<li>每次你写完博客，只需要在 Myweb 里点 下面的菜单 <br>
<img src="media/14550024568971/14550119677927.jpg" alt=""/></li>
</ol>

<h2 id="toc_4">happy Ending</h2>

<p>　　保存你的这个脚本，例如名称为 <code>gitpush.sh</code> ，然后我们要生成一个 <strong>plist</strong> 让这个文件开机自动启动，这样就真的是完全自动化了。 plist 文件如下</p>

<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;Disabled&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;EnvironmentVariables&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;PATH&lt;/key&gt;
        &lt;string&gt;/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/sbin&lt;/string&gt;
    &lt;/dict&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;SuccessfulExit&lt;/key&gt;
        &lt;false/&gt;
    &lt;/dict&gt;
    &lt;key&gt;Label&lt;/key&gt;
    &lt;string&gt;club.myauto.gitpush&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
    &lt;array&gt;
        &lt;string&gt;/bin/sh&lt;/string&gt;
        &lt;string&gt;/Users/bao3/.wwwroot/custommymac/bin/gitpush.sh&lt;/string&gt;
    &lt;/array&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;
    &lt;true/&gt;
&lt;/dict&gt;
&lt;/plist&gt;

</code></pre>

<p>　　然后可以将此文件 放在<code>~/Library/LaunchAgents</code>,然后运行 <code>launchctl load -w ~/Library/LaunchAgents/XXXXXXX.plist</code>　然后验证一下是否有启动 <code>ps waux | grep fswatch</code></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-02-05T20:29:40+08:00" itemprop="datePublished">2016/2/5 20:29 下午</time>
			</div>
			
			 
			
		</div>
		<h1 class="title" itemprop="name"><a href="14546753806896.html" itemprop="url">
		Mac 和 iOS 一起使用 Surge</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>Surge app 非常牛的一点是可以使用 icloud 同步，这样我们就可以实现手机端和 Mac 同步了，方法其实非常简单，接下来我就简要写一下。</p>

<p>相信你的手机上一定是在运行 Surge for iOS 了，请在” More “页面打开 iCloud Sync。接下来我们开始设置 Mac 上。 按照 iOS 上的指导，先要激活一次 Surge For Mac ，然后你需要有一个 .surge.conf 放在自己的 $HOME 下面，你没有？哈哈哈哈，前面已经用 iCloud 同步一你的 Mac 上了哟，只是，这里有个小技巧：</p>

<ol>
<li>找到你的 Surge 目录，如下图所示，点进去，你能看到你的配置文件，例如我的 default.conf 。
<img src="media/14546753806896/14546763443453.jpg" alt=""/></li>
<li>打开 终端 app ，输入
<code>
ln -s /Users/`whoami`/Library/Mobile\ Documents/iCloud~run~surge/Documents/default.conf ~/.surge.conf
</code>
你要记得把 default.conf 换成你的配置名字。</li>
</ol>

<p><img src="media/14546753806896/14546770750355.jpg" alt=""/></p>

<ol>
<li>OK，现在你可以打开你的 Surge for Mac，不过作为一个严谨的人，我们还要确认一下我们的设定成功了没有。
同样是在 终端 app 里
<code>lsof -i :6152</code></li>
</ol>

<p><img src="media/14546753806896/14546778222917.jpg" alt=""/></p>

<ol>
<li>已经完成了，你可以在网络设置写上了，注意，作者说要把 http和 https 都写上。实际上，你也可以用你原有的 pac文件，但是改下代理也行的。</li>
</ol>

<p><img src="media/14546753806896/14546779494609.jpg" alt=""/></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-01-10T22:30:50+08:00" itemprop="datePublished">2016/1/10 22:30 下午</time>
			</div>
			
			 
			
		</div>
		<h1 class="title" itemprop="name"><a href="14524362507802.html" itemprop="url">
		使用 My Chrome 订制自己的浏览器</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>事情的起因，是因为一个友人常在紧要关头需要下载东西，不得不借助一些手段，但是平时里并没有好好帮她调教她的 PC，因此一时之间并没有最快捷的方法让她能傻瓜式使用翻墙墙手段下载。于是花了 1 个小时来研究打造一个客制化的浏览器，随用随开且关闭后就清除一切痕迹。这个 MyChrome就是这今天的主角</p>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 
	 <a class="next" href="all_1.html">Next</a> 
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2014
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>




</body>
</html>