
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="atom.xml" rel="alternate" title="黑洞" type="application/atom+xml">
    <title> 
	  
  	黑洞
  	
  	</title>
    <link href="asset/css/bootstrap.min.css" rel="stylesheet">
    <link href="asset/css/style.css" rel="stylesheet">
    <script src="asset/js/jquery.min.js"></script>
    <script src="asset/js/bootstrap.min.js"></script>
    <script src="asset/js/docs.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script>hljs.initHighlightingOnLoad();</script>
    <!--[if lt IE 9]>
      <script src="asset/js/html5shiv.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a class="blog-nav-item" id="menu-index" href="index.html">Home</a>
          <a class="blog-nav-item" id="menu-help" href="help.html">Documentation</a>
          <a class="blog-nav-item" id="menu-blog" href="all.html">Blog</a>
          <a class="blog-nav-item" id="menu-about" href="about.html">About</a>
          <a class="blog-nav-item" style="float:right;" href="http://zh.mweb.im">中文</a>
        </nav>
      </div>
    </div>

        <div class="container" id="content-wrap">

      <script type="text/javascript">
      $(function(){
      	$('#menu-blog').addClass('active');
      });
      </script>
      <div class="row">

        <div class="col-sm-8 blog-main">
			
					<div class="blog-post">
			            <h2 class="blog-post-title">自己折腾 FreeNAS@ThinkPad x201i 的记录</h2>
			            <p class="blog-post-meta">2016/8/2 
				            
							 
							
			            </p>
			            <div class="content-responsive">
			            <p>这些记录没有任何意义，请忽略</p>

<pre><code class="language-Bash">cp -Rp acpi_ibm* /boot/kernel/
cp -RP acpi_video.ko* /boot/kernel/
cp -Rp iwn1000fw.ko* /boot/kernel/
cp -Rp if_iwn.ko* /boot/kernel/
cp -Rp wlan* /boot/kernel/
cp -Rp fuse.ko* /boot/kernel/
sed -i &quot;.bak&quot; &#39;s/yes/no/g&#39; /usr/local/etc/pkg/repos/local.conf
sed -i &quot;.bak&quot; &#39;s/no/yes/g&#39; /usr/local/etc/pkg/repos/FreeBSD.conf

pkg update
pkg install vim-lite proxychains-ng shadowsocks-libev aria2

vi /boot/loader.conf

#######
acpi_ibm_load=&quot;YES&quot;
acpi_video_load=&quot;YES&quot;
if_iwn_load=&quot;YES&quot;
iwn1000fw_load=&quot;YES&quot;
snd_ich_load=&quot;YES&quot;
###########


saver=&quot;green&quot; blanktime=&quot;300&quot; scrnmap=&quot;NO&quot;
powerd_enable=&quot;YES&quot;
powerd_flags=&quot;-i 80 -p 200 -b adaptive -a adaptive -n adaptive&quot;

performance_cx_lowest=&quot;C3&quot;
economy_cx_lowest=&quot;C3&quot;
performance_cpu_freq=&quot;HIGH&quot;


sysctl -a | grep cx_
/etc/sysctl.conf
hw.acpi.cpu.cx_lowest=C3

</code></pre>



						
			           </div>
			          </div><!-- /.blog-post -->
			 
					<div class="blog-post">
			            <h2 class="blog-post-title">Mac 上使用 Syncthing 同步文档</h2>
			            <p class="blog-post-meta">2016/8/2 
				            
							 
							
			            </p>
			            <div class="content-responsive">
			            <p>最早的时候个人同步我使用的是 BTsync ，但这家伙后来改版后有诸多不便，于是转投了我一直看好的另一个同步工具 &mdash;- Syncthing 。开源且多平台 （ iOS 上不行，不过 iOS 除了照片也没什么可以同步的了 ），我最喜欢的就是可以自建一个 relay 。详细使用上比较简单，我今天只记录一下我在 Mac 上的操作。</p>

<p>操作需要使用 iTerm 或者 Terminal 请自备。</p>

<h2 id="toc_0">使用 Brew Cask 安装</h2>

<p>其实你也可以自己下载安装包 (<a href="https://github.com/syncthing/syncthing/releases)%EF%BC%8C%E8%A7%A3%E5%8E%8B%E5%90%8E%E6%8A%8A">https://github.com/syncthing/syncthing/releases)，解压后把</a>&ldquo; syncthing &rdquo; 这个可执行文件放到 <code>/usr/local/bin</code> 。（ 我建议你养成好习惯，所有自己下载安装的终端都丢这里 ）</p>

<p>如果你有了 brew 则可以</p>

<pre><code>brew tap caskroom/cask
brew tap caskroom/versions
brew cask install syncthing 

</code></pre>

<p>会看到下图<br/>
<img src="media/14623502546429/14623510408640.jpg" alt="syncthing安装"/></p>

<p>然后进入上图中的 <code>open /opt/homebrew-cask/Caskroom/syncthing/0.12.22</code> 然后进入安装文件夹（如果你有多个版本，则进入最高的那个就可以了），找到 <code>syncthing.plist</code> ，通常位置安装目录的 <code>etc/macosx-launchd</code> 。</p>

<h2 id="toc_1">修改配置文件</h2>

<p>在 Finder 里，不要选中任何文件的情况下，点击如下图标，拷贝为路径，如果你的系统没有这个选项，请试着按下 Option 键。<br/>
<img src="media/14623502546429/14623515346988.jpg" alt=""/></p>

<p>接着在 iTerm 或者 Terminal 里输入</p>

<pre><code>cd $(pbpaste)
sed -i .bak &quot;s/USERNAME/$(whoami)/g&quot; ./syncthing.plist
sed -i .bak &quot;s/\Users\/$(whoami)\/bin/usr\/local\/bin/g&quot; ./syncthing.plist
sed -n &#39;/Users/p&#39; ./syncthing.plist
sed -n &#39;/local/p&#39; ./syncthing.plist
</code></pre>

<p>你应该会看到输出了带你的用户名的几行以及带有 syncthing的一行：</p>

<pre><code>        &lt;string&gt;/Users/bao3&lt;/string&gt;
    &lt;string&gt;/Users/bao3/Library/Logs/Syncthing.log&lt;/string&gt;
    &lt;string&gt;/Users/bao3/Library/Logs/Syncthing-Errors.log&lt;/string&gt;
        &lt;string&gt;/usr/local/bin/syncthing&lt;/string&gt;
</code></pre>

<h2 id="toc_2">加载启动文件</h2>

<p>比较简单，我是直接 copy 过去:</p>

<pre><code> cp syncthing.plist  ~/Library/LaunchAgents/syncthing.plist
  launchctl load ~/Library/LaunchAgents/syncthing.plist 
</code></pre>

<p>随后会打开网页，让你登录 <a href="http://127.0.0.1:8384">http://127.0.0.1:8384</a></p>



						
			           </div>
			          </div><!-- /.blog-post -->
			  


          <nav>
            <ul class="pager">
            
            	<li class=""><a href="all_1.html"><span aria-hidden="true">&larr;</span> Newer</a></li>
            

				<li class=""><a href="archives.html">Archives</a></li>

			
            	<li class=" disabled "><a href="#index">Older <span aria-hidden="true">&rarr;</span></a></li>
            
            </ul>
          </nav>

        </div><!-- /.blog-main -->

       <!-- slider start -->

  		<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          

          <div class="sidebar-module">
            <h4>About</h4>
            <p><a target="_blank" href="atom.xml">RSS</a></p>
            <p><a href="help.html">MWeb Documentation</a></p>
            

          </div>
          <div class="sidebar-module">
            <h4>Categories</h4>
            
	        
	      </li>
	   
            </ol>
          </div>

          <div class="sidebar-module">
            <h4>Recent Posts</h4>
            
	  
	      
		      
		        <a href="14910699523430.html">打造多用户 ShadowsocksR VPS 过程</a><br />
		      
	     
	  
	      
		      
		        <a href="14910533008368.html">养成使用 Mac Brew 安装软件</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847239.html">在 Vultr上安装 Arch linux</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847399.html">使用 My Chrome 订制自己的浏览器</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847475.html">优雅女性一生一定要看的50篇黄文</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847714.html">Mac 上使用自动发布到 github pages</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847780.html">Kodi(XBMC)视频播放软件</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463847961.html">主题：如何处理wget mirror网站后应用程序文件名问题</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463848112.html">icloud 邮件设置</a><br />
		      
	     
	  
	      
		      
		        <a href="14701463848186.html">Brew Cask 安装软件</a><br />
		      
	     
	  
	      
	  
	      
	   

          </div>
         
        </div><!-- /.blog-sidebar -->


      </div><!-- /.row -->

    </div><!-- /.container -->

  <footer class="blog-footer">
      <p>Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a target="_blank" href="http://getbootstrap.com">Bootstrap</a>、<a target="_blank" href="https://twitter.com/mdo">@mdo</a>
&nbsp;&nbsp; host on <a target="_blank" href="https://coding.net/">Coding.net Pages</a>.</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="asset/js/ie10-viewport-bug-workaround.js"></script>
    


  </body>
</html>